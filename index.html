<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Maturity Assessment</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
        // Fallback if Chart.js fails to load
        window.addEventListener('load', function() {
            if (typeof Chart === 'undefined') {
                console.warn('Chart.js failed to load from CDN. Radar chart will not be available.');
                // Hide chart container if Chart.js is not available
                const chartContainer = document.querySelector('.chart-container');
                if (chartContainer) {
                    chartContainer.innerHTML = '<p class="alert alert-warning">Chart visualization unavailable. Chart.js library could not be loaded.</p>';
                }
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¯ Test Maturity Assessment</h1>
            <p class="subtitle">Evaluate and track testing maturity across teams and applications</p>
        </header>

        <nav class="tabs">
            <button class="tab-button active" data-tab="setup">Setup</button>
            <button class="tab-button" data-tab="interview">Interview</button>
            <button class="tab-button" data-tab="results">Results</button>
        </nav>

        <!-- Setup Tab -->
        <div id="setup" class="tab-content active">
            <div class="card">
                <h2>Application/Team Setup</h2>
                <div class="form-group">
                    <label for="app-name">Application/Team Name:</label>
                    <input type="text" id="app-name" placeholder="Enter application or team name">
                </div>
                <div class="form-group">
                    <label for="profile-select">Profile:</label>
                    <select id="profile-select">
                        <option value="">Select a profile...</option>
                        <option value="developer">Developer</option>
                        <option value="qa">QA Engineer</option>
                        <option value="devops">DevOps</option>
                        <option value="manager">Manager</option>
                        <option value="all">All Profiles</option>
                    </select>
                </div>
                <button id="start-interview" class="btn btn-primary">Start Interview</button>
            </div>

            <div class="card">
                <h2>Data Management</h2>
                <div class="data-actions">
                    <button id="export-data" class="btn btn-secondary">ğŸ“¥ Export Data</button>
                    <button id="import-data" class="btn btn-secondary">ğŸ“¤ Import Data</button>
                    <button id="select-sync-folder" class="btn btn-secondary" style="display: none;">ğŸ“ Select Sync Folder</button>
                    <input type="file" id="import-file" accept=".json" style="display: none;">
                </div>
                <div id="sync-status" style="margin-top: 1rem;"></div>
                <div id="saved-assessments"></div>
            </div>
        </div>

        <!-- Interview Tab -->
        <div id="interview" class="tab-content">
            <div class="card">
                <div class="interview-header">
                    <h2 id="interview-title">Interview Questions</h2>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                        <span class="progress-text" id="progress-text">0 / 0</span>
                    </div>
                </div>
                
                <div id="questions-container"></div>
                
                <div class="interview-actions">
                    <button id="save-interview" class="btn btn-primary">ğŸ’¾ Save Assessment</button>
                    <button id="view-results" class="btn btn-secondary">ğŸ“Š View Results</button>
                </div>
            </div>
        </div>

        <!-- Results Tab -->
        <div id="results" class="tab-content">
            <div class="card">
                <h2>Maturity Results</h2>
                <div class="form-group">
                    <label for="results-select">Select Assessment:</label>
                    <select id="results-select">
                        <option value="">Choose an assessment...</option>
                    </select>
                </div>
                <div id="results-container">
                    <div class="chart-container">
                        <canvas id="maturity-chart"></canvas>
                    </div>
                    <div id="theme-scores"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="questions.js"></script>
    <script src="app.js"></script>
</body>
</html>
